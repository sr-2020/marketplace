<ng-container *ngIf="session else loading">
  <mat-drawer-container class="sr-side-menu"
                        autosize>
    <mat-drawer #drawer
                [mode]="isMobile ? 'push' : 'side'">
      <sr-nav></sr-nav>
    </mat-drawer>
    <mat-toolbar color="primary">
      <mat-toolbar-row class="mat-elevation-z4">
        <button mat-icon-button
                (click)="drawer.toggle()">
          <mat-icon>menu</mat-icon>
        </button>
        <div class="meta">
          <span>{{session.shops[0].name}} </span>
          <span *ngIf="!isMobile">Баланс &#165;{{session.shops[0].balance}} </span>
        </div>
      </mat-toolbar-row>
      <mat-toolbar-row style="height: 40px">
        <div class="container-fluid">
          <small>{{session.currentCharacterName}} </small>
        </div>
      </mat-toolbar-row>
    </mat-toolbar>
    <mat-toolbar>

    </mat-toolbar>
    <router-outlet></router-outlet>
  </mat-drawer-container>
</ng-container>


<ng-template #loading>
  <div class="loading">
    <h2>Подождите идет загрузка...</h2>
    <mat-progress-spinner
      class="example-margin"
      color="primary"
      mode="indeterminate">
    </mat-progress-spinner>
  </div>
</ng-template>
